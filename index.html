<!doctype html>
<html lang= "en">
<head>
  <title>Tile Estimator Tool</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
</head>

<script language="javascript" type="text/javascript">
function validLSqft()
{
    var sqftLTextBoxContent = document.getElementById("sqftL").value;
    if (sqftLTextBoxContent == "" || sqftLTextBoxContent == null)
    {
      document.getElementById("sqftError").innerHTML= "Required Field"
      document.getElementById("sqftL").style.backgroundColor= "red";
    }
    // if (document.getElementById("UOM").value = "imperial" && sqftLTextBoxContent != "" && Number(sqftLTextBoxContent) <= 3)
    // {
    //   document.getElementById("sqftError").innerHTML= "Room too small"
    //   document.getElementById("sqftL").style.backgroundColor= "red";
    // }
    else if (sqftLTextBoxContent != "" && sqftLTextBoxContent != null)
    {
      document.getElementById("sqftError").innerHTML= ""
      document.getElementById("sqftL").style.backgroundColor="white";
    }
}
function validWSqft()
{
    var sqftWTextBoxContent = document.getElementById("sqftW").value;
    var areaWidth = parseInt(sqftWTextBoxContent);
    var sqftLTextBoxContent = document.getElementById("sqftL").value;
    var areaLength = parseInt(sqftLTextBoxContent);
    var sqFootage = areaWidth * areaLength;
    if (sqftWTextBoxContent == "" || sqftWTextBoxContent == null)
    {
        document.getElementById("sqftError").innerHTML= "Required Field"
        document.getElementById("sqftW").style.backgroundColor="red";
    }
    // if (document.getElementById("UOM").value = "imperial" && sqftWTextBoxContent != "" && Number(sqftWTextBoxContent) <= 3)
    // {
    //     document.getElementById("sqftError").innerHTML= "Room too small"
    //     document.getElementById("sqftW").style.backgroundColor="red";
    // }
    else if (sqftWTextBoxContent != "" && sqftWTextBoxContent != null)
    {
        document.getElementById("sqftError").innerHTML= ""
        document.getElementById("sqftW").style.backgroundColor= "white"
        document.getElementById("totalSqft").value = sqFootage;
    }
}
function validLTileSize()
{
    var tilesizeLTextBoxContent = document.getElementById("TileSizeL").value;
    if (tilesizeLTextBoxContent == "" || tilesizeLTextBoxContent == null)
    {
        document.getElementById("TileSizeError").innerHTML= "Required Field"
        document.getElementById("TileSizeL").style.backgroundColor= "red";
    }
    // if (Number(tilesizeLTextBoxContent) <= 3 && tilesizeLTextBoxContent != "")
    // {
    //     document.getElementById("TileSizeError").innerHTML= "Tile too small"
    //     document.getElementById("TileSizeL").style.backgroundColor="red";
    // }
    else if (tilesizeLTextBoxContent != "" && tilesizeLTextBoxContent != null)
    {
        document.getElementById("TileSizeError").innerHTML= ""
        document.getElementById("TileSizeL").style.backgroundColor= "white";
    }
}
function validWTileSize()
{
    var tilesizeLTextBoxContent = document.getElementById("TileSizeL").value;
    var tilesizeWTextBoxContent = document.getElementById("TileSizeW").value;
    var gapList = document.getElementById("gapSelect");
    var tileArea = Number(tilesizeLTextBoxContent) * Number(tilesizeWTextBoxContent);
    if(tilesizeWTextBoxContent == "" || tilesizeWTextBoxContent == null)
  {
        document.getElementById("TileSizeError").innerHTML= "Required Field";
        document.getElementById("TileSizeW").style.backgroundColor="red";
  }
    if (tileArea <= 36)
    {
    gapList.selectedIndex = 0;
    }
    if (tileArea > 36 && tileArea <= 64)
    {
    gapList.selectedIndex = 1;
    }
    if (tileArea > 64 && tileArea <= 144)
    {
    gapList.selectedIndex = 2;
    }
    if (tileArea > 256)
    {
    gapList.selectedIndex = 0;
    }
    // if (Number(tilesizeWTextBoxContent) <= 3 && tilesizeWTextBoxContent != "")
    // {
    //     document.getElementById("TileSizeError").innerHTML = "Tile too small"
    //     document.getElementById("TileSizeW").style.backgroundColor="red";
    // }
if (tilesizeWTextBoxContent != "" && tilesizeWTextBoxContent != null)
  {
    document.getElementById("TileSizeError").innerHTML= "";
    document.getElementById("TileSizeW").style.backgroundColor= "white";
  }
}
function validGapSize()
{
    var gapsizeContent = document.getElementById("gapSize").value;
    if (gapsizeContent > 10)
    {
    document.getElementById("gapsizeError").innerHTML= "Gap too large";
    }
    else
    {
    document.getElementById("gapsizeError").innerHTML= "";
    document.getElementById("gapSize").style.backgroundColor= "white";
    }
}
function calculate()
{
    var sqftLTextBoxContent = document.getElementById("sqftL").value;
    var areaLNumber = parseInt(sqftLTextBoxContent);
    var sqftWTextBoxContent = document.getElementById("sqftW").value;
    var areaWNumber = parseInt(sqftWTextBoxContent);
    var tilesizeLTextBoxContent = document.getElementById("TileSizeL").value;
    var tileareaLNumber = parseInt(tilesizeLTextBoxContent);
    var mettileareaLConverted = tileareaLNumber / 100;
    var tilesizeWTextBoxContent = document.getElementById("TileSizeW").value;
    var tileareaWNumber = parseInt(tilesizeWTextBoxContent);
    var mettileareaWConverted = tileareaWNumber / 100;
    var gapsizeContent = eval(document.getElementById("gapSize").value);
    var halfimpgapConverted = (Number(gapsizeContent) / 144) / 2;
    var halfmetgapmmtomConverted = (Number(gapsizeContent) / 1000)/2;
    var impatcPerimeter = (areaLNumber - halfimpgapConverted)*(areaWNumber - halfimpgapConverted);
    var metatcPerimeter = (areaLNumber - halfmetgapmmtomConverted)*(areaWNumber - halfmetgapmmtomConverted);
    const implengthplusGap = tileareaLNumber + halfimpgapConverted;
    const impwidthplusGap = tileareaWNumber + halfimpgapConverted;
    const impaotPertile = implengthplusGap * impwidthplusGap;
    const metmmtomlengthplusGap = mettileareaLConverted + halfmetgapmmtomConverted;
    const metmmtomwidthplusGap = mettileareaWConverted + halfmetgapmmtomConverted;
    const metaotPertile = metmmtomlengthplusGap * metmmtomwidthplusGap;
    var remainderImp = impatcPerimeter % impaotPertile;
    var remainderMet = metatcPerimeter % metaotPertile;
    var wasteList = document.getElementById("wasteSelect");
    var myselectedWaste = wasteList.options[wasteList.options.selectedIndex].value;
    var isImp = document.getElementById("UOM").value == "imperial";
    var isMet = document.getElementById("UOM").value == "metric";
    if (isImp)
    debugger;
    {
        document.getElementById("numberofTiles").innerHTML = Math.round((impatcPerimeter / impaotPertile)-(impatcPerimeter / impaotPertile)*myselectedWaste) + " Tiles"
        document.getElementById("waste").innerHTML = ((remainderImp.toFixed(2))-(remainderImp*myselectedWaste).toFixed(2)) + " square feet";
        document.getElementById("thinset").innerHTML = Math.round((((areaLNumber * areaWNumber)*myselectedWaste)/95)*50) + " lbs of thinset at 1/4-inch thickness"
        document.getElementById("numberof50lbsBags").innerHTML = Math.round(((areaLNumber * areaWNumber)*myselectedWaste)/95) + " 50lb bag(s) of thinset";
    }
    if (isMet)
    {
        document.getElementById("numberofTiles").innerHTML = Math.round((metatcPerimeter / metaotPertile)-(metatcPerimeter / metaotPertile)*myselectedWaste) + " Tiles"
        document.getElementById("waste").innerHTML = ((remainderMet.toFixed(2))-(remainderMet*myselectedWaste).toFixed(2)) + " square meters"
        document.getElementById("thinset").innerHTML = Math.round((((areaLNumber * areaWNumber)*myselectedWaste)/8.82579)*22.6796) + " kgs of thinset at 2.5cm thickness"
        document.getElementById("numberof50lbsBags").innerHTML = Math.round(((areaLNumber * areaWNumber)*myselectedWaste)/8.82579) + " 22kg bags of thinset";
    }
}
function uomCheck()
{
  if (document.getElementById("UOM").value == "metric")
  {
    document.getElementById("uomsqftHangar").innerHTML = "m"
    document.getElementById("gapsizeHangar").innerHTML = "mm"
    document.getElementById("uomTileSize").innerHTML = "cm"
    document.getElementById("uomsqftWHangar").innerHTML = "m"
    document.getElementById("uomWTileSize").innerHTML = "cm"
    document.getElementById("totalsqftTag").innerHTML = "m"
    document.getElementById("1/16").value=1.5875
    document.getElementById("1/16").innerHTML="1.5"
    document.getElementById("1/8").value=3.175
    document.getElementById("1/8").innerHTML="3.5"
    document.getElementById("3/16").value=4.7625
    document.getElementById("3/16").innerHTML="4.76"
    document.getElementById("1/4").value=6.35
    document.getElementById("1/4").innerHTML="6.35"
    document.getElementById("3/8").value=9.525
    document.getElementById("3/8").innerHTML="9.52";
  }
  else if (document.getElementById("UOM").value == "imperial")
  {
      document.getElementById("uomsqftHangar").innerHTML = "ft"
      document.getElementById("gapsizeHangar").innerHTML = "in"
      document.getElementById("uomTileSize").innerHTML = "in"
      document.getElementById("uomWTileSize").innerHTML = "in"
      document.getElementById("uomsqftWHangar").innerHTML = "ft"
      document.getElementById("totalsqftTag").innerHTML = "ft"
      document.getElementById("1/16").value=.0625
      document.getElementById("1/16").innerHTML="1/16"
      document.getElementById("1/8").value=.125
      document.getElementById("1/8").innerHTML="1/8"
      document.getElementById("3/16").value=.1875
      document.getElementById("3/16").innerHTML="3/16"
      document.getElementById("1/4").value=.25
      document.getElementById("1/4").innerHTML="1/4"
      document.getElementById("3/8").value=.375
      document.getElementById("3/8").innerHTML="3/8";
  }
}
function gapsizeSelect()
{
  document.getElementById("gapSize").value = document.getElementById("gapSelect").value;
}
</script>
<div class="row">
  <div class="col-md-6 mx-auto">
    <div class="card mx-auto p-2">
      <div class="card-title" mx-auto><h1>Tile Estimator Tool</h1></div>
  <div class="card-body" mx-auto></div>
<form>
  <div class="form-row mx-auto my-auto"
    <div class="form-group col-md-12 mx-auto">
      <p>Unit of Measurement</p>
  </div>
  <div class="form-row p-auto mx-auto my-auto">
    <div class="form-group col-md-3">
      <select id="UOM" class="form-control" name="UOM" onchange="uomCheck()">
        <option selected value ="imperial">Imperial</option>
        <option value="metric">Metric</option>
      </select>
    </div>
  </div>
    <div class="form-row pt-3 my-auto mx-auto">
      <div class="form-group col-md-12 mx-auto">
        <p>Tile Size</p>
    </div>
  </div>
  <div class="form-row p-auto mx-auto my-auto">
    <div class="input-group my-auto mx-auto col-md-5">
      <input id="TileSizeL" onblur="validLTileSize()" maxlength="3" type="text" class="form-control" placeholder="Tile Length" required>
      <div class="input-group-append my-auto">
        <span class="input-group-text" id="uomTileSize">in</span>
      </div>
    </div>
    <div class="form-group italic col-md-1 mx-auto my-auto" style="text-align: center;">
      X
    </div>
    <div class="input-group my-auto mx-auto col-md-5">
      <input id="TileSizeW" onblur="validWTileSize()" type="text" maxlength="3" class="form-control" placeholder="Tile Width" required>
      <div class="input-group-append my-auto">
        <span class="input-group-text" id="uomWTileSize">in</span>
      </div>
    </div>
    <div class="form-group my-auto mx-auto col-md-1">
      <p><span id="TileSizeError"></span></p>
    </div>
  </div>
  <div class="form-row pt-4 my-auto mx-auto">
    <div class="form-group col-md-12 mx-auto">
      <p>Area to Cover</p>
  </div>
</div>
<div class="form-row my-auto mx-auto">
    <div class="input-group my-auto mx-auto col-md-5">
      <input id="sqftL" maxlength="3" name="sqftL" onblur="validLSqft()" type="text" class="form-control" placeholder="Area Length" >
      <div class="input-group-append my-auto">
        <span class="input-group-text" id="uomsqftHangar">ft</span>
      </div>
    </div>
    <div class="form-group italic col-md-1 mx-auto my-auto" style="text-align: center;">
      X
    </div>
    <div class="input-group my-auto mx-auto col-md-5">
      <label for="areawidth"></label>
      <input id="sqftW" name="sqftW" maxlength="3" onblur="validWSqft()" type="text" class="form-control" placeholder="Area Width">
      <div class="input-group-append my-auto">
        <span class="input-group-text" id="uomsqftWHangar">ft</span>
      </div>
    </div>
    <div class="form-group my-auto mx-auto col-md-1">
      <label for="areatocovererrorSpan"></label>
      <p><span id="sqftError"></span></p>
    </div>
  </div>
  <div class="form-row my-auto pt-3 mx-auto">
    <div class="form-group col-md-12 mx-auto">
      <p>Square Footage</p>
  </div>
</div>
  <div class="form-row my-auto mx-auto">
    <div class="input-group my-auto mx-auto col-md-6">
      <input type="text" id="totalSqft" maxlength="7" class="form-control" placeholder="Square Feet" required>
      <div class="input-group-append my-auto">
        <span class="input-group-text" id="totalsqftHangar"><span id="totalsqftTag"></span><sup>2</sup></span>
      </div>
    </div>
  <div class="form-group my-auto mx-auto col-md-6">
    <p><span id="totalSqftError"></p>
  </div>
  </div>
  <div class="form-row my-auto pt-3 mx-auto">
    <div class="form-group col-md-12 my-auto mx-auto">
      <p>Gap Size</p>
    </div>
</div>
  <div class="form-row my-auto mx-auto">
    <div class="form-group col-md-6 my-auto mx-auto">
      <select id="gapSelect" class="form-control" onchange="gapsizeSelect()">
        <option value=.0625 id="1/16" selected>1/16</option>
        <option value=.125 id="1/8">1/8</option>
        <option value=.1875 id="3/16">3/16</option>
        <option value=.25 id="1/4">1/4</option>
        <option value=.375 id="3/8">3/8</option>
      </select>
    </div>
    <div class="input-group my-auto ml-0 col-md-6">
      <input type="text" id="gapSize" onblur="validGapSize()" maxlength="7" class="form-control" placeholder="Gap Size" required>
      <div class="input-group-append my-auto">
        <span class="input-group-text" id="gapsizeHangar">in</span>
      </div>
    </div>
  <div class="form-group my-auto mx-auto col-md-1">
    <label for="gapsizeerrorSpan"></label>
    <p><span id="gapsizeError"></p>
    </div>
  </div>
  <div class="form-row my-auto pt-3 mx-auto">
    <div class="form-group col-md-12 my-auto mx-auto">
      <p>Waste</p>
    </div>
  </div>
    <div class="form-row my-auto mx-auto">
      <div class="form-group col-md-12 my-auto ml-0">
        <select id="wasteSelect" class="form-control" class="form-control">
          <option>Choose...</option>
          <option value=.5 id="5%">5%</option>
          <option selected value=.1 id="10%">10%</option>
          <option value=.15 id="15%">15%</option>
        </select>
    </div>
  </div>
</div>
  </form>
</div>
<div class="col-md-6">
  <div class="card p-2">
    <div class="card-title"><button type="button" class="btn btn-primary m-3" onclick="calculate()">Calculate</button></div>
      <div class="card-body">

  <!-- <table border="1" style="background-color:#CCD1D1;">

      <tr>
          <td><b>Unit of Measurement</b></td>
          <td>
          <select id="UOM" name="UOM" onchange="uomCheck()">
          <option value="imperial" selected> Imperial</option>
          <option value="metric" >Metric</option>
          </select>
        </td>
        <td></td>
      </tr>
      <tr>
            <td><b>Enter dimensions of area </b></td>
            <td>
              <input type="number" id="sqftL" size="4" maxlength="3" name="sqftL" onblur="validLSqft()" required>
              X
              <input type="number" maxlength="3" id="sqftW" size="4" name="sqftW" onblur="validWSqft()">
              <em><span id = "uomsqftHangar">ft</span></em>
            </td>

             <td><span id="sqftError"></td>
      </tr>
      <tr>
            <td><b>Tile Size</b></td>
            <td>
            <input type="number" size="4" maxlength="4" id="TileSizeL" onblur="validLTileSize()" required>
            X
            <input type="number" size="4" maxlength="4" id="TileSizeW" onblur="validWTileSize()" required>
            <em><span id = "uomTileSize">in</span></em>
          </td>
            <td><span id="TileSizeError"></td>
      </tr>
      <tr>
            <td><b>Gap Size</b></td>
            <td><input type="number" id="gapSize" size="4" maxlength="4" onblur="validGapSize()" required> <span id="gapsizeHangar">in</span></em></td>
            <td><span id="gapsizeError"></td>
      </tr>
      <tr>
            <td><input type="submit" onclick="calculate()"></td>
            <td></td>
            <td></td>
      </tr>
</table> -->
<br>
<label for="resultsArea"><h2>Results</h2></label>
<pre><b><p>Number of tiles: </b> <span id="numberofTiles"> </span></p>
<b><p>Waste: </b> <span id="waste"> </span></p>
<b><p>Thinset: </b> <span id="thinset"> </span> </p>
<b><p>Thinset Bags: </b> <span id="numberof50lbsBags"> </span> </p> </pre>
</div>
</div>
</div>
</div>
  <br>
  <script>
  uomCheck()
  gapsizeSelect()
  </script>

  </body>
</html>
