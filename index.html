<!doctype html>
<html lang= "en">
<head>
  <title>Tile Estimator Tool</title>
</head>

<script language="javascript" type="text/javascript">
function validLSqft()
{
    var sqftLTextBoxContent = document.getElementById("sqftL").value;
    if (sqftLTextBoxContent == "" || sqftLTextBoxContent == null)
    {
      document.getElementById("sqftError").innerHTML= "Required Field"
      document.getElementById("sqftL").style.backgroundColor= "red";
    }
    if (sqftLTextBoxContent != "" && Number(sqftLTextBoxContent) <= 3)
    {
      document.getElementById("sqftError").innerHTML= "Room too small"
      document.getElementById("sqftL").style.backgroundColor= "red";
    }
    else if (sqftLTextBoxContent != "" && sqftLTextBoxContent != null)
    {
      document.getElementById("sqftError").innerHTML= ""
      document.getElementById("sqftL").style.backgroundColor="white";
    }
}
function validWSqft()
{
    var sqftWTextBoxContent = document.getElementById("sqftW").value;
    if (sqftWTextBoxContent == "" || sqftWTextBoxContent == null)
    {
        document.getElementById("sqftError").innerHTML= "Required Field"
        document.getElementById("sqftW").style.backgroundColor="red";
    }
    if (sqftWTextBoxContent != "" && Number(sqftWTextBoxContent) <= 3)
    {
        document.getElementById("sqftError").innerHTML= "Room too small"
        document.getElementById("sqftW").style.backgroundColor="red";
    }
    else if (sqftWTextBoxContent != "" && sqftWTextBoxContent != null)
    {
        document.getElementById("sqftError").innerHTML= ""
        document.getElementById("sqftW").style.backgroundColor= "white";
    }
}
function validLTileSize()
{
    var tilesizeLTextBoxContent = document.getElementById("TileSizeL").value;
    if (tilesizeLTextBoxContent == "" || tilesizeLTextBoxContent == null)
    {
        document.getElementById("TileSizeError").innerHTML= "Required Field"
        document.getElementById("TileSizeL").style.backgroundColor= "red";
    }
    // if (Number(tilesizeLTextBoxContent) <= 3 && tilesizeLTextBoxContent != "")
    // {
    //     document.getElementById("TileSizeError").innerHTML= "Tile too small"
    //     document.getElementById("TileSizeL").style.backgroundColor="red";
    // }
    else if (tilesizeLTextBoxContent != "" && tilesizeLTextBoxContent != null)
    {
        document.getElementById("TileSizeError").innerHTML= ""
        document.getElementById("TileSizeL").style.backgroundColor= "white";
    }
}
function validWTileSize()
{
    var tilesizeWTextBoxContent = document.getElementById("TileSizeW").value;
    if(tilesizeWTextBoxContent == "" || tilesizeWTextBoxContent == null)
    {
        document.getElementById("TileSizeError").innerHTML= "Required Field";
        document.getElementById("TileSizeW").style.backgroundColor="red";
    }
    // if (Number(tilesizeWTextBoxContent) <= 3 && tilesizeWTextBoxContent != "")
    // {
    //     document.getElementById("TileSizeError").innerHTML = "Tile too small"
    //     document.getElementById("TileSizeW").style.backgroundColor="red";
    // }
    else if (tilesizeWTextBoxContent != "" && tilesizeWTextBoxContent != null)
    {
        document.getElementById("TileSizeError").innerHTML= "";
        document.getElementById("TileSizeW").style.backgroundColor= "white";
    }
}
function validGapSize()
{
    var gapsizeContent = document.getElementById("gapSize").value;
    if (gapsizeContent > 10)
    {
            document.getElementById("gapsizeError").innerHTML= "Gap too large";
    }
    else
    {
        document.getElementById("gapsizeError").innerHTML= "";
        document.getElementById("gapSize").style.backgroundColor= "white";
    }
}
function calculate()
{
    var sqftLTextBoxContent = document.getElementById("sqftL").value;
    var areaLNumber = parseInt(sqftLTextBoxContent);
    var sqftWTextBoxContent = document.getElementById("sqftW").value;
    var areaWNumber = parseInt(sqftWTextBoxContent);
    var tilesizeLTextBoxContent = document.getElementById("TileSizeL").value;
    var tileareaLNumber = parseInt(tilesizeLTextBoxContent);
    var imptileareaLConverted = tileareaLNumber / 144;
    var mettileareaLConverted = tileareaLNumber / 10000;
    var tilesizeWTextBoxContent = document.getElementById("TileSizeW").value;
    var tileareaWNumber = parseInt(tilesizeWTextBoxContent);
    var imptileareaWConverted = tileareaWNumber / 144;
    var mettileareaWConverted = tileareaWNumber / 10000;
    var gapsizeContent = document.getElementById("gapSize").value;
    var gapsizeNumber = parseFloat(gapsizeContent);
    var halfimpgapConverted = ((gapsizeNumber / 144) / 2);
    var halfmetgapmmtomConverted = ((gapsizeNumber / 1000000)/2);
    var impatcPerimeter = (areaLNumber - halfimpgapConverted)*(areaWNumber - halfimpgapConverted);
    var metatcPerimeter = (areaLNumber - halfmetgapmmtomConverted)*(areaWNumber - halfmetgapmmtomConverted);
    const implengthplusGap = tileareaLNumber + halfimpgapConverted;
    const impwidthplusGap = tileareaWNumber + halfimpgapConverted;
    const impaotPertile = implengthplusGap * impwidthplusGap;
    const impconlengthplusGap = imptileareaLConverted + halfimpgapConverted;
    const impconwidthplusGap = imptileareaWConverted + halfimpgapConverted;
    const impconaotPertile = impconlengthplusGap * impconwidthplusGap;
    const metmmtomlengthplusGap = tileareaLNumber + halfmetgapmmtomConverted;
    const metmmtomwidthplusGap = tileareaWNumber + halfmetgapmmtomConverted;
    const metaotPertile = metmmtomlengthplusGap * metmmtomwidthplusGap;
    const metconlengthplusGap = mettileareaLConverted + halfmetgapmmtomConverted;
    const metconwidthplusGap = mettileareaWConverted + halfmetgapmmtomConverted;
    const metconaotPertile = metconlengthplusGap * metconwidthplusGap;
    var isImp = document.getElementById("UOM").value == "imperial";
    var isFt2 = document.getElementById("uomFt2").selected == true;

    if (isImp && isFt2)
    {
        document.getElementById("sqftresultsTextarea").value = Math.round(impatcPerimeter / impaotPertile);
    }
    if (document.getElementById("UOM").value == "imperial" && document.getElementById("uomIn2").selected == true)
    {
        document.getElementById("sqftresultsTextarea").value = Math.round(impatcPerimeter / impconaotPertile);
    }
    if (document.getElementById("UOM").value == "metric" && document.getElementById("uomFt2").selected == true)
    {
        document.getElementById("sqftresultsTextarea").value = Math.round(metatcPerimeter / metaotPertile);
    }
    if (document.getElementById("UOM").value == "metric" && document.getElementById("uomIn2").selected == true)
    {
        document.getElementById("sqftresultsTextarea").value = Math.round(metatcPerimeter / metconaotPertile);
    }
}
function uomCheck()
{
  if (document.getElementById("UOM").value == "metric")
  {
    document.getElementById("uomsqftHangar").innerHTML = "m"
    document.getElementById("gapsizeHangar").innerHTML = "mm"
    document.getElementById("uomFt2").innerHTML = "m2"
    document.getElementById("uomIn2").innerHTML = "cm2";
  }
  else if (document.getElementById("UOM").value == "imperial")
  {
      document.getElementById("uomsqftHangar").innerHTML = "ft"
      document.getElementById("gapsizeHangar").innerHTML = "in"
      document.getElementById("uomFt2").innerHTML = "ft2"
      document.getElementById("uomIn2").innerHTML = "in2";
  }
}
</script>
<body>

  <table style="background-color:#CCD1D1;">

        <tr>
          <td><b>Unit of Measurement</b></td>
          <td>
          <select id="UOM" name="UOM" onchange="uomCheck()">
          <option value="imperial" selected> Imperial</option>
          <option value="metric" >Metric</option>
          </select>
        </td>
      </tr>
        <tr>
            <td><b>Enter dimensions of area </b></td>
            <td>
              <input type="number" id="sqftL" size="4" maxlength="3" name="sqftL" onblur="validLSqft()" required>
              X
              <input type="number" maxlength="3" id="sqftW" size="4" name="sqftW" onblur="validWSqft()">
              <em><span id = "uomsqftHangar">ft</span><sup>2</sup></em>
            </td>

             <td><span id="sqftError"></td>
        </tr>
        <tr>
            <td><b>Tile Size</b></td>
            <td>
            <input type="number" size="4" maxlength="4" id="TileSizeL" onblur="validLTileSize()" required>
            X
            <input type="number" size="4" maxlength="4" id="TileSizeW" onblur="validWTileSize()" required>
            <select id="uomSelect" name="uomSelect">
            <option id="uomFt2" value="ft2" selected> ft<sup>2</sup></option>
            <option id="uomIn2" value="in2" >in<sup>2</sup></option>
            </select></td>
            <td><span id="TileSizeError"></td>
        </tr>
        <tr>
            <td><b>Gap Size</b></td>
            <td><input type="number" id="gapSize" size="4" maxlength="4" onblur="validGapSize()" required> <span id="gapsizeHangar">in</span><sup>2</sup></em></td>
            <td><span id="gapsizeError"></td>
        </tr>
        <tr>
            <td><input type="submit" onclick="calculate()"></td>
            <td></td>
            <td></td>
        </tr>
</table>
</br>
<b><p>Number of tiles: </p></b>
<textarea readonly id="sqftresultsTextarea" cols="10" rows="2"></textarea readonly>
  <br>
  </body>
</html>
